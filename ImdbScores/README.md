### About Project
넷플릭스 영화에 대해 IMDB 사이트에서의 나라별 평점을 시각화하는 프로젝트

IMDB 사이트의 평점이 계속 업데이트된다는 것을 이용하여 보고 싶은 영화에 대해 **나라별 최신 평점**을 확인하고자 한다. 이때, 영화를 구분하는 기준은 IMDB 사이트 주소에 있는 고유 코드값(이하 `Imdb_code`로 지칭)을 기준으로 한다.


사용 데이터셋: Kaggle [[Netflix Original Films & IMDB Scores](https://www.kaggle.com/datasets/luiscorter/netflix-original-films-imdb-scores)]


<br></br>

___

### [Film page] - 프로젝트 결과물
**1. 메인화면** - Flask를 이용하여 DB로부터 영화정보를 가져와서 보여주는 페이지

<kbd> <img src="./result/mainPage.png"/> </kbd>

<br></br>
**2. 메인화면** - 페이지를 넘기면서 영화정보를 볼 수 있고, 영화 제목을 누르면 상세페이지로 넘어간다

<kbd> <img src="./result/mainPage2.png"/> </kbd>

<br></br>
**3. 상세페이지** - 해당 영화의 포스터 및 세부정보와 나라별 영화 평점을 보여주는 페이지( `Imdb_code`를 이용하여 DB로부터 데이터를 가져온다)  

<kbd> <img src="./result/filmInfoPage.png"/> </kbd>

<br></br>
<br></br>

___
###

### [동작원리]
<details>
<summary>동작원리에 대하여</summary>

* `step1` - Netflix 영화정보를 가지고 Imdb 사이트에서 해당 영화에 대한 페이지를 찾는다.
* `step2` - 영화 세부 정보를 비교하며 동일한 영화인지 확인하고, 동일하다면 Netflix 영화에 대해 Imdb_code를 맵핑한다.
* `step3` - 맵핑된 Imdb_code를 이용하여 Imdb 사이트에서의 포스터 이미지와 평점 json data를 수집한다.
* `step4` - Netflix 영화정보와 수집한 내용을 조인하여 Flask에서 사용할 메인 테이블을 생성한다.
* `step5` - Flask를 이용하여 MysqlDB에 저장된 데이터를 가져와서 화면에 보여준다.
    * (main page) 전체 영화 리스트를 테이블 형식으로 보여준다
    * (sub page) 영화별 포스터 이미지와 나라별 평점 차트를 보여준다

</details>
<br></br>

### [개발과정]
<details>
<summary>개발과정에 대하여</summary>

#### (2023.09 ~ 2023.11) 넷플릭스 영화 제목을 가지고 IMDB 사이트의 코드값 맵핑

| 과제                                                                                                                                               | 해결방법                                                  |
|:-------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------|
| 영문명이 아니거나 특수문자가 포함된 영화명 전처리                                                                                                                      | 해당 영화명을 Google 사이트에 검색해서 나오는 IMDB 영화를 서칭하여 데이터를 가져온다. |
| 영화명이 Netflix, Imdb 사이트에서 서로 다른 경우 <br> ex. Netflix(`Porta dos Fundos: The First Temptation of Christ`) -  Imdb(`The First Temptation of Christ`) | 영화 세부정보(ex.개봉년도, 장르)를 이용해서 동일한 영화인지 비교한다.             |
| 동명의 영화가 존재하여 정확한 검색 결과가 안나오는 경우                                                                                                                  | 영화 세부정보(ex.개봉년도, 장르)를 이용하여 동일한 영화인지 비교한다.             |
| 장르에 대해 Netflix, Imdb 사이트에서 서로 다르게 표현한 경우                                                                                                         | 사이트별 장르 단어를 리스트로 처리하여 두 사이트의 장르가 겹치는지 확인한다.           |


## 
#### (2023.11) 맵핑이 완료되어 맵핑된 코드값을 가지고 IMDB 사이트의 나라별 평점을 수집하고 시각화 진행(with Flask)

|과제| 해결방법                                                                                                                                     |
|:---|:-----------------------------------------------------------------------------------------------------------------------------------------|
|Flask를 이용하여 MysqlDB 영화 정보를 불러온다| 1. 크롤링한 모든 정보를 Join하여 `영화정보/Json data/포스터 이미지`를 가진 메인 테이블을 CTAS로 생성한다. <br> 2. Flask를 이용하여 `Imdb_code`를 기준으로 DB로부터 영화 정보와 포스터 이미지를 가져온다. |
|나라별 평점 데이터 시각화| `json_data`를 파싱하고 Python matplotlib 기능을 이용하여 막대 차트로 시각화한 것을 이미지로 저장하여 가져온다.                                                              |
|코드값 매핑을 위해 작성한 파이썬 코드 리팩터링| 가독성이 좋을 수 있도록 코드 리팩터링을 진행한다.                                                                                                             |


</details>
<br></br>

### [개발후기]
<details>
<summary>프로젝트 개발후기</summary>

입사 직후 프로젝트에 투입되면서 배워야될 것도, 익혀야하는 것도 많아서 최근에 들어서야 개인 시간을 쪼개서 공부할 방향을 잡고 익숙해져가고 있다.

업무를 진행하면서 데이터 수집/가공/저장/활용의 전체 파이프라인에 대한 궁금증과 개발해보고 싶다는 생각을 갖고 있었고, 이 프로젝트가 첫 시작이 되었다.

내가 수집한 데이터를 화면에 띄어보고 싶다는 생각으로 시작한 프로젝트로, 오랜만의 파이썬 코드 개발, MysqlDB설치, 처음으로 Flask로 웹페이지를 띄어볼 수 있는 경험이었다.

처음 써보는 기술들에 어려운 점도 많았지만 고민하고 문제를 해결하는 시간들이 재밌었고 첫 프로젝트를 잘 마무리할 수 있어서 뿌듯하기도 하다.

앞으로도 계속 내가 궁금했던 것들을 실제로 구현해보는 프로젝트를 많이 진행해야겠다고 생각하는 계기가 되었다:)


</details>


<br></br>
<br></br>
